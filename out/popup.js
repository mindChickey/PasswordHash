var E="ABCDEFGHIJKLMNOPQRSTUVWXYZ",h="abcdefghijklmnopqrstuvwxyz",y="0123456789";async function f(e,n,d,t){let u=new TextEncoder,l=u.encode(e),c=u.encode(n),B=await crypto.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),M={name:"PBKDF2",salt:c,iterations:d,hash:"SHA-256"},T=await crypto.subtle.deriveBits(M,B,t);return new Uint8Array(T)}function w(e,n){let d=[],t=0;for(let u of n){let l=e.slice(t,t+u);d.push(l),t+=u}return d}function m(e,n){return Array.from(e).map((u)=>n[u%n.length]).join("")}function z(e,n){let d=n.hasUpper?m(e[0],E):"",t=n.hasLower?m(e[1],h):"",u=n.hasNumber?m(e[2],y):"";return d+t+u}function F(e,n){let d=n.hasUpper?E:"",t=n.hasLower?h:"",u=n.hasNumber?y:"",l=d+t+u;return m(e,l)}async function o(e,n){let d=await f(e,"PasswordHash",1e6,256),t=w(d,[1,1,1,n.len]),u=z(t,n),l=t[3].slice(0,n.len-u.length),c=F(l,n);return u+c}async function D(e,n){let d=await f(e,"PasswordHash",1e6,256),t=Math.ceil(n/3),u=n-2*t,l=w(d,[t,t,u]),c=E.replace(/[OI]/g,""),B=h.replace(/[ol]/g,""),M=y.replace(/[01]/g,""),T=m(l[0],c),j=m(l[1],B),q=m(l[2],M);return T+j+q}var g=document.getElementById("passwordInput"),G=document.getElementById("enterButton"),H=document.getElementById("phiddenDiv"),k=document.getElementById("showCheckBox"),v=document.getElementById("tipsDiv"),a=document.getElementById("autoCopyCheckBox"),J=document.getElementById("upperCheckBox"),Q=document.getElementById("lowerCheckBox"),V=document.getElementById("numberCheckBox"),I=document.getElementById("lenInput"),X=document.getElementById("modeContainer"),Y=document.getElementById("customModeRadio"),Z=document.getElementById("handModeRadio"),p=document.getElementById("digitModeRadio");function $(){let e=J.checked,n=Q.checked,d=V.checked,t=parseInt(I.value,10);return{hasUpper:e,hasLower:n,hasNumber:d,len:t}}function i(e){return Array.from(e).map((n)=>"*").join("")}function L(e,n){if(k.checked)H.textContent=e+`
`+n;else{let d=n[0]+i(n.slice(1));H.textContent=i(e)+`
`+d}}async function C(e){if(Y.checked)return await o(e,$());else if(Z.checked){let n=parseInt(I.value,10);return await D(e,n)}else{let d={hasUpper:!1,hasLower:!1,hasNumber:!0,len:parseInt(I.value,10)};return await o(e,d)}}async function b(e){let n=await C(e);if(L(e,n),k.onchange=(d)=>{L(e,n)},a.checked)await window.navigator.clipboard.writeText(n),v.textContent="write to clipboard success"}G.onclick=()=>{b(g.value)};g.onkeyup=(e)=>{if(e.key==="Enter")b(g.value);else v.textContent=""};function W(e){if(e==="custom_mode")a.checked=!0,k.checked=!1,I.value="15";else a.checked=!1,k.checked=!0,I.value=e==="hand_mode"?"10":"6"}X.onchange=(e)=>{if(!e.target)return;else if(e.target.name==="mode")W(e.target.value)};g.focus();
